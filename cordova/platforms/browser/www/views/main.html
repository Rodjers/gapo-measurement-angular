<md-progress-linear ng-if="filter.savingMeasurement"  md-mode="indeterminate"></md-progress-linear>
<md-content layout-padding>
  <form name="measurementForm">
    <div layout="row">
      <h2>Mål</h2>
    </div>
    <div layout="row" layout-sm="column">
      <div flex layout="column">
        <md-input-container>
          <label>Tittel</label>
          <input type="text" name="formDescription" ng-model="currentIssue.fields.summary">
        </md-input-container>
        <md-input-container>
          <label>Navn</label>
          <input type="text" name="formCustomer" ng-model="currentIssue.fields.customfield_10301" required>
          <div ng-messages="measurementForm.formCustomer.$error" role="alert">
            <div ng-message="required">Fyll inn navn på kunde</div>
          </div>
        </md-input-container>
        <md-input-container>
          <label>Adresse</label>
          <input type="text" name="formAdress" ng-model="currentIssue.fields.customfield_10302" required>
          <div ng-messages="measurementForm.formAdress.$error" role="alert">
            <div ng-message="required">Fyll inn adresse</div>
          </div>
        </md-input-container>
        <md-input-container>
          <label>Postnummer</label>
          <input type="number" name="formZipcode" ng-model="currentIssue.fields.customfield_10303" required ng-minlength="4" ng-maxlength="4">
          <div ng-messages="measurementForm.formZipcode.$error" role="alert">
            <div ng-message="required">Fyll inn postnummer</div>
            <div ng-message="minlength, maxlength">Postnummer må bestå av 4 siffer.</div>
          </div>
        </md-input-container>
        <md-input-container>
          <label>Poststed</label>
          <input type="text" name="formCity" ng-model="currentIssue.fields.customfield_10304" required>
          <div ng-messages="measurementForm.formCity.$error" role="alert">
            <div ng-message="required">Fyll inn poststed</div>
          </div>
        </md-input-container>
        <md-input-container>
          <label>Telefonnr.</label>
          <input type="number" name="formPhonenumber" ng-model="currentIssue.fields.customfield_10305" required ng-pattern="/^[0-9]*$/">
          <div ng-messages="measurementForm.formPhonenumber.$error" role="alert">
            <div ng-message="required">Fyll inn telefonnummer</div>
            <div ng-message="pattern">Ugyldig telefonnummer</div>
          </div>
        </md-input-container>
        <md-input-container>
          <label>Beskrivelse</label>
          <textarea name="formDescription" ng-model="currentIssue.fields.description"></textarea>
        </md-input-container>
      </div>
      <div flex layout="column">
        <md-input-container>
          <label>Høyde</label>
          <input type="number" name="formHeight" ng-model="currentIssue.fields.customfield_10011">
        </md-input-container>
        <md-input-container>
          <label>Bredde</label>
          <input type="number" name="formWidth" ng-model="currentIssue.fields.customfield_10013">
        </md-input-container>
        <md-input-container>
          <label>Dybde</label>
          <input type="number" name="formDepth" ng-model="currentIssue.fields.customfield_10306">
        </md-input-container>
        <md-input-container>
          <label>Overhøyde</label>
          <input type="number" name="formOverHeight" ng-model="currentIssue.fields.customfield_10300">
        </md-input-container>
        <md-input-container>
          <label>Sideklaring høyre</label>
          <input type="number" name="formClearingRight" ng-model="currentIssue.fields.customfield_10015">
        </md-input-container>
        <md-input-container>
          <label>Sideklaring venstre</label>
          <input type="number" name="formClearingLeft" ng-model="currentIssue.fields.customfield_10014">
        </md-input-container>
      </div>
    </div>
    <div layout="row">
      <md-button ng-if="currentIssue.id" ng-click="chooseSource($event)" class="md-raised">Legg til bilde</md-button>
      <img ng-if"imageBase64" height="80" width="80" ng-src="data:image/png;base64,{{imageBase64}}"/>
    </div>
    <div layout="row">
      <md-button class="md-raised" ng-click="init()">Reset</md-button>
      <md-button ng-if="!currentIssue.id" type="submit" class="md-raised" ng-click="addMeasurement(currentIssue)" ng-disabled="measurementForm.$invalid">Legg til</md-button>
      <md-button ng-if="currentIssue.id" type="submit" class="md-raised" ng-click="updateMeasurement(currentIssue)" ng-disabled="measurementForm.$invalid">Lagre</md-button>
    </div>
    </div>
  </form>
</md-content>
